{"remainingRequest":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/babel-loader/lib/index.js!/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/src/pages/Playsong.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/src/pages/Playsong.vue","mtime":1589860894000},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/cache-loader/dist/cjs.js","mtime":1619416685351},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/babel-loader/lib/index.js","mtime":1620626789420},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/cache-loader/dist/cjs.js","mtime":1619416685351},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/vue-loader/lib/index.js","mtime":1621232596899}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTd2lwZXIgZnJvbSAic3dpcGVyIjsgLy/mmK/nm67liY3lupTnlKjovoPlub/ms5vnmoTnp7vliqjnq6/nvZHpobXop6bmkbjlhoXlrrnmu5Hliqhqc+aPkuS7tixodHRwczovL3d3dy5zd2lwZXIuY29tLmNuLwoKaW1wb3J0IFJlY29tbWVuZCBmcm9tICIuLi9jb21wb25lbnRzL1JlY29tbWVuZC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGx5cmljSW5kZXg6IDAKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBSZWNvbW1lbmQ6IFJlY29tbWVuZAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNvbmdEQVRBOiBmdW5jdGlvbiBzb25nREFUQSgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSA9IHRoaXMuJHN0b3JlLnN0YXRlLAogICAgICAgICAgY3VyID0gX3RoaXMkJHN0b3JlJHN0YXRlLmN1ciwKICAgICAgICAgIGxpc3QgPSBfdGhpcyQkc3RvcmUkc3RhdGUubGlzdDsKICAgICAgcmV0dXJuIGxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBwYXJzZUludChpdGVtLmlkKSA9PT0gY3VyOwogICAgICB9KSB8fCBudWxsOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJxdWVyeURhdGFBIiwgdGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bykgewogICAgICB0aGlzLmF1ZGlvQ29tcGxldGUoKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInF1ZXJ5RGF0YUEiLCB0by5wYXJhbXMuaWQpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdFN3aXBlcigpOwogICAgdGhpcy5hdWRpb0hhbmRsZSgpOwogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHRoaXMuaW5pdFN3aXBlcigpOwogICAgdGhpcy5hdWRpb0hhbmRsZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyWU1dJUEVSCiAgICBpbml0U3dpcGVyOiBmdW5jdGlvbiBpbml0U3dpcGVyKCkgewogICAgICBpZiAoIXRoaXMuc29uZ0RBVEEpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLiRzd2lwZXIpIHsKICAgICAgICB0aGlzLiRzd2lwZXIudXBkYXRlU2xpZGVzKCk7CiAgICAgICAgdGhpcy4kc3dpcGVyLnVwZGF0ZVNpemUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHN3aXBlciA9IG5ldyBTd2lwZXIodGhpcy4kcmVmcy5seXJpYywgewogICAgICAgIGRpcmVjdGlvbjogInZlcnRpY2FsIiwKICAgICAgICBzbGlkZXNQZXJWaWV3OiAiYXV0byIKICAgICAgfSk7CiAgICB9LAogICAgLy8g6Lez6L2s5YiwTVYKICAgIG9wZW5WaWRlbzogZnVuY3Rpb24gb3BlblZpZGVvKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGxheXZpZGVvLyIuY29uY2F0KGlkKSk7CiAgICB9LAogICAgLy8g5o6n5Yi26Z+z5LmQ55qE5pKt5pS+5ZKM5pqC5YGcCiAgICBhdWRpb1BsYXk6IGZ1bmN0aW9uIGF1ZGlvUGxheSgpIHsKICAgICAgdmFyIF90aGlzJCRyZWZzID0gdGhpcy4kcmVmcywKICAgICAgICAgIGF1ZGlvID0gX3RoaXMkJHJlZnMuYXVkaW8sCiAgICAgICAgICBhdWRpb0J0biA9IF90aGlzJCRyZWZzLmF1ZGlvQnRuOwogICAgICBpZiAoIWF1ZGlvKSByZXR1cm47CiAgICAgIGF1ZGlvLnBsYXkoKTsKICAgICAgYXVkaW9CdG4uY2xhc3NOYW1lID0gInphbnRpbmciOwogICAgICB0aGlzLmx5cmljQXV0bygpOwogICAgfSwKICAgIGF1ZGlvUGF1c2U6IGZ1bmN0aW9uIGF1ZGlvUGF1c2UoKSB7CiAgICAgIHZhciBfdGhpcyQkcmVmczIgPSB0aGlzLiRyZWZzLAogICAgICAgICAgYXVkaW8gPSBfdGhpcyQkcmVmczIuYXVkaW8sCiAgICAgICAgICBhdWRpb0J0biA9IF90aGlzJCRyZWZzMi5hdWRpb0J0bjsKICAgICAgaWYgKCFhdWRpbykgcmV0dXJuOwogICAgICBhdWRpby5wYXVzZSgpOwogICAgICBhdWRpb0J0bi5jbGFzc05hbWUgPSAiIjsKICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5seXJpY1RpbWVyKTsKICAgIH0sCiAgICBhdWRpb0NvbXBsZXRlOiBmdW5jdGlvbiBhdWRpb0NvbXBsZXRlKCkgewogICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmx5cmljVGltZXIpOwogICAgICB0aGlzLmx5cmljSW5kZXggPSAwOwogICAgICB0aGlzLiRzd2lwZXIuc2xpZGVUbygwLCAwKTsKICAgIH0sCiAgICBhdWRpb0hhbmRsZTogZnVuY3Rpb24gYXVkaW9IYW5kbGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDmjqfliLbpn7PkuZDnmoToh6rliqjmkq3mlL4KICAgICAgdmFyIHBsYXkgPSBmdW5jdGlvbiBwbGF5KCkgewogICAgICAgIF90aGlzLmF1ZGlvUGxheSgpOwoKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgcGxheSk7CiAgICAgIH07CgogICAgICBwbGF5KCk7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIldlaXhpbkpTQnJpZGdlUmVhZHkiLCBwbGF5KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIHBsYXkpOyAvLyDngrnlh7vmjInpkq7mjqfliLbmmoLlgZzmiJbogIXnu6fnu63mkq3mlL4KCiAgICAgIHZhciBfdGhpcyQkcmVmczMgPSB0aGlzLiRyZWZzLAogICAgICAgICAgYXVkaW8gPSBfdGhpcyQkcmVmczMuYXVkaW8sCiAgICAgICAgICBhdWRpb0J0biA9IF90aGlzJCRyZWZzMy5hdWRpb0J0bjsKICAgICAgaWYgKCFhdWRpbykgcmV0dXJuOwoKICAgICAgYXVkaW9CdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoYXVkaW8ucGF1c2VkKSB7CiAgICAgICAgICBfdGhpcy5hdWRpb1BsYXkoKTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5hdWRpb1BhdXNlKCk7CiAgICAgIH07CiAgICB9LAogICAgbHlyaWNBdXRvOiBmdW5jdGlvbiBseXJpY0F1dG8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGF1ZGlvID0gdGhpcy4kcmVmcy5hdWRpbzsKICAgICAgaWYgKCFhdWRpbykgcmV0dXJuOwogICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmx5cmljVGltZXIpOwogICAgICB0aGlzLmx5cmljVGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkdXJhdGlvbiA9IGF1ZGlvLmR1cmF0aW9uLAogICAgICAgICAgICBjdXJyZW50VGltZSA9IGF1ZGlvLmN1cnJlbnRUaW1lOwoKICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gZHVyYXRpb24pIHsKICAgICAgICAgIF90aGlzMi5hdWRpb0NvbXBsZXRlKCk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g5q2M6K+N5a+55bqU5ZKM6Lef552A5YqoCgoKICAgICAgICBpZiAoIV90aGlzMi5zb25nREFUQSkgcmV0dXJuOwogICAgICAgIHZhciBuOwoKICAgICAgICBfdGhpczIuc29uZ0RBVEEubHlyaWMuZmluZChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHZhciBtaW51dGVzID0gaXRlbS5taW51dGVzLAogICAgICAgICAgICAgIHNlY29uZHMgPSBpdGVtLnNlY29uZHM7CgogICAgICAgICAgaWYgKG1pbnV0ZXMgKiA2MCArIHBhcnNlSW50KHNlY29uZHMpID09PSBNYXRoLnJvdW5kKGN1cnJlbnRUaW1lKSkgewogICAgICAgICAgICBuID0gaW5kZXg7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKG4gJiYgbiAhPT0gX3RoaXMyLmx5cmljSW5kZXgpIHsKICAgICAgICAgIF90aGlzMi5seXJpY0luZGV4ID0gbjsKICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzMi5seXJpY0luZGV4IC0gMzsKICAgICAgICAgIGluZGV4IDwgMCA/IGluZGV4ID0gMCA6IG51bGw7CgogICAgICAgICAgX3RoaXMyLiRzd2lwZXIuc2xpZGVUbyhpbmRleCwgMjAwKTsKICAgICAgICB9CiAgICAgIH0sIDEwMDApOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Playsong.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"playBox\" v-if=\"songDATA\">\r\n    <div class=\"bg\">\r\n      <img :src=\"songDATA.pic\" alt />\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"header\">\r\n        <h2 v-text=\"songDATA.title\"></h2>\r\n        <p v-text=\"songDATA.author\"></p>\r\n      </div>\r\n      <div class=\"lyric swiper-container\" ref=\"lyric\">\r\n        <div class=\"wrapper swiper-wrapper\">\r\n          <p\r\n            v-for=\"(item,index) in songDATA.lyric\"\r\n            v-text=\"item.content\"\r\n            :key=\"index\"\r\n            :class=\"`swiper-slide ${lyricIndex===index?'active':''}`\"\r\n          ></p>\r\n        </div>\r\n      </div>\r\n      <div class=\"handle\">\r\n        <i @click=\"openVideo(songDATA.id)\"></i>\r\n        <i ref=\"audioBtn\"></i>\r\n        <i></i>\r\n      </div>\r\n    </div>\r\n\r\n    <audio :src=\"songDATA.music\" style=\"display:none\" ref=\"audio\"></audio>\r\n\r\n    <!-- 热门推荐 -->\r\n    <recommend></recommend>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Swiper from \"swiper\";   //是目前应用较广泛的移动端网页触摸内容滑动js插件,https://www.swiper.com.cn/\r\nimport Recommend from \"../components/Recommend.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      lyricIndex: 0\r\n    };\r\n  },\r\n  components: {\r\n    Recommend\r\n  },\r\n  computed: {\r\n    songDATA() {\r\n      const { cur, list } = this.$store.state;\r\n      return (\r\n        list.find(item => {\r\n          return parseInt(item.id) === cur;\r\n        }) || null\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"queryDataA\", this.$route.params.id);\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.audioComplete();\r\n      this.$store.dispatch(\"queryDataA\", to.params.id);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initSwiper();\r\n    this.audioHandle();\r\n  },\r\n  updated() {\r\n    this.initSwiper();\r\n    this.audioHandle();\r\n  },\r\n  methods: {\r\n    // 初始化SWIPER\r\n    initSwiper() {\r\n      if (!this.songDATA) return;\r\n      if (this.$swiper) {\r\n        this.$swiper.updateSlides();\r\n        this.$swiper.updateSize();\r\n        return;\r\n      }\r\n      this.$swiper = new Swiper(this.$refs.lyric, {\r\n        direction: \"vertical\",\r\n        slidesPerView: \"auto\"\r\n      });\r\n    },\r\n    // 跳转到MV\r\n    openVideo(id) {\r\n      this.$router.push(`/playvideo/${id}`);\r\n    },\r\n    // 控制音乐的播放和暂停\r\n    audioPlay() {\r\n      let { audio, audioBtn } = this.$refs;\r\n      if (!audio) return;\r\n      audio.play();\r\n      audioBtn.className = \"zanting\";\r\n      this.lyricAuto();\r\n    },\r\n    audioPause() {\r\n      let { audio, audioBtn } = this.$refs;\r\n      if (!audio) return;\r\n      audio.pause();\r\n      audioBtn.className = \"\";\r\n      window.clearInterval(this.lyricTimer);\r\n    },\r\n    audioComplete() {\r\n      window.clearInterval(this.lyricTimer);\r\n      this.lyricIndex = 0;\r\n      this.$swiper.slideTo(0, 0);\r\n    },\r\n    audioHandle() {\r\n      // 控制音乐的自动播放\r\n      let play = () => {\r\n        this.audioPlay();\r\n        document.removeEventListener(\"touchstart\", play);\r\n      };\r\n      play();\r\n      document.addEventListener(\"WeixinJSBridgeReady\", play);\r\n      document.addEventListener(\"touchstart\", play);\r\n\r\n      // 点击按钮控制暂停或者继续播放\r\n      let { audio, audioBtn } = this.$refs;\r\n      if (!audio) return;\r\n      audioBtn.onclick = () => {\r\n        if (audio.paused) {\r\n          this.audioPlay();\r\n          return;\r\n        }\r\n        this.audioPause();\r\n      };\r\n    },\r\n    lyricAuto() {\r\n      let { audio } = this.$refs;\r\n      if (!audio) return;\r\n      window.clearInterval(this.lyricTimer);\r\n      this.lyricTimer = window.setInterval(() => {\r\n        let duration = audio.duration,\r\n          currentTime = audio.currentTime;\r\n        if (currentTime >= duration) {\r\n          this.audioComplete();\r\n          return;\r\n        }\r\n        // 歌词对应和跟着动\r\n        if (!this.songDATA) return;\r\n        let n;\r\n        this.songDATA.lyric.find((item, index) => {\r\n          let { minutes, seconds } = item;\r\n          if (minutes * 60 + parseInt(seconds) === Math.round(currentTime)) {\r\n            n = index;\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n        if (n && n !== this.lyricIndex) {\r\n          this.lyricIndex = n;\r\n          let index = this.lyricIndex - 3;\r\n          index < 0 ? (index = 0) : null;\r\n          this.$swiper.slideTo(index, 200);\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.playBox {\r\n  position: relative;\r\n  padding-top: 0.4rem;\r\n\r\n  .content {\r\n    padding: 0 0.4rem;\r\n    .header {\r\n      text-align: center;\r\n      h2 {\r\n        line-height: 0.56rem;\r\n        font-size: 0.38rem;\r\n        font-weight: normal;\r\n      }\r\n      p {\r\n        line-height: 0.44rem;\r\n        font-size: 0.32rem;\r\n        color: grey;\r\n      }\r\n    }\r\n\r\n    .lyric {\r\n      margin-top: 0.2rem;\r\n      height: 4.9rem;\r\n      text-align: center;\r\n      overflow: hidden;\r\n\r\n      p {\r\n        height: 0.6rem !important;\r\n        line-height: 0.6rem;\r\n        color: rgba(0, 0, 0, 0.7);\r\n        font-size: 0.3rem;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        transition: 0.2s;\r\n\r\n        &.active {\r\n          color: #22d59c;\r\n        }\r\n      }\r\n    }\r\n\r\n    .handle {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      height: 1.5rem;\r\n\r\n      i {\r\n        margin: 0 0.3rem;\r\n        width: 0.8rem;\r\n        height: 0.8rem;\r\n        border: 0.02rem solid rgba(0, 0, 0, 0.2);\r\n        border-radius: 50%;\r\n\r\n        &:nth-child(1) {\r\n          background: url(\"../assets/images/ttpodicon.svg\") no-repeat center\r\n            center;\r\n          background-size: 0.6rem 0.6rem;\r\n        }\r\n\r\n        &:nth-child(3) {\r\n          background: url(\"../assets/images/shoucang.svg\") no-repeat 50% 52%;\r\n          background-size: 0.35rem 0.35rem;\r\n        }\r\n\r\n        &:nth-child(2) {\r\n          background: url(\"../assets/images/bofang.svg\") no-repeat 58% center;\r\n          background-size: 0.45rem 0.45rem;\r\n\r\n          &.zanting {\r\n            background: url(\"../assets/images/zanting.svg\") no-repeat center\r\n              center;\r\n            background-size: 0.45rem 0.45rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .bg {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n    width: 100%;\r\n    img {\r\n      display: block;\r\n      width: 100%;\r\n      opacity: 0.04;\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/pages"}]}