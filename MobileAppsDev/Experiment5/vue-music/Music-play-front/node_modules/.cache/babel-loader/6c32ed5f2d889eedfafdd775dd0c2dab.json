{"remainingRequest":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/babel-loader/lib/index.js!/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/src/store/index.js","dependencies":[{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/src/store/index.js","mtime":1588339567000},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/cache-loader/dist/cjs.js","mtime":1619416685351},{"path":"/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/node_modules/babel-loader/lib/index.js","mtime":1620626789420}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvbHh5L1Byb2plY3RzL1VuaXZlcnNpdHlFeHBlcmltZW50cy9Nb2JpbGVBcHBzRGV2L0V4cGVyaW1lbnQ1L3Z1ZS1tdXNpYy9NdXNpYy1wbGF5LWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgbG9nZ2VyIGZyb20gJ3Z1ZXgvZGlzdC9sb2dnZXInOwppbXBvcnQgYXBpIGZyb20gJy4uL2FwaS9pbmRleCc7ClZ1ZS51c2UoVnVleCk7CgpmdW5jdGlvbiBmb3JtYXRMeXJpYyhseXJpYykgewogIGx5cmljICs9ICcmIzEwOyc7CiAgdmFyIG9iaiA9IHsKICAgIDMyOiAnICcsCiAgICA0MDogJygnLAogICAgNDE6ICcpJywKICAgIDQ1OiAnLScKICB9OwogIGx5cmljID0gbHlyaWMucmVwbGFjZSgvJiMoXGQrKTsvZywgZnVuY3Rpb24gKGl0ZW0sIG51bSkgewogICAgaXRlbSA9IG9ialtudW1dIHx8IGl0ZW07CiAgICByZXR1cm4gaXRlbTsKICB9KTsKICB2YXIgbHlyaWNBcnIgPSBbXTsKICBseXJpYy5yZXBsYWNlKC9cWyhcZCspJiM1ODsoXGQrKSYjNDY7KD86XGQrKVxdKFteJiM7XSspJiMxMDsvZywgZnVuY3Rpb24gKF8sIG1pbnV0ZXMsIHNlY29uZHMsIGNvbnRlbnQpIHsKICAgIGx5cmljQXJyLnB1c2goewogICAgICBtaW51dGVzOiBtaW51dGVzLAogICAgICBzZWNvbmRzOiBzZWNvbmRzLAogICAgICBjb250ZW50OiBjb250ZW50CiAgICB9KTsKICB9KTsKICByZXR1cm4gbHlyaWNBcnI7Cn0KCmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgY3VyOiAwLAogICAgbGlzdDogW10KICB9LAogIG11dGF0aW9uczogewogICAgcXVlcnlEYXRhTTogZnVuY3Rpb24gcXVlcnlEYXRhTShzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgaWQgPSBwYXlsb2FkLmlkLAogICAgICAgICAgZGF0YSA9IHBheWxvYWQuZGF0YTsKICAgICAgc3RhdGUuY3VyID0gcGFyc2VJbnQoaWQpOwoKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICBzdGF0ZS5saXN0LnB1c2goX29iamVjdFNwcmVhZCh7fSwgZGF0YSwgewogICAgICAgICAgbHlyaWM6IGZvcm1hdEx5cmljKGRhdGEubHlyaWMpCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBxdWVyeURhdGFBOiBmdW5jdGlvbiBxdWVyeURhdGFBKF9yZWYsIGlkKSB7CiAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gcXVlcnlEYXRhQSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlLCBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAvLyDmoKHpqozmmK/lkKblrZjlnKgKICAgICAgICAgICAgICByZXN1bHQgPSBzdGF0ZS5saXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpdGVtLmlkKSA9PT0gcGFyc2VJbnQoaWQpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIC8vIOWtmOWcqOWPquaUuUlECiAgICAgICAgICAgICAgY29tbWl0KCdxdWVyeURhdGFNJywgewogICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChhcGkuaW5mbyhpZCkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChwYXJzZUludChyZXN1bHQuY29kZSkgPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdCgncXVlcnlEYXRhTScsIHsKICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHQuZGF0YQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIHBsdWdpbnM6IFtsb2dnZXIoKV0KfSk7"},{"version":3,"sources":["/home/lxy/Projects/UniversityExperiments/MobileAppsDev/Experiment5/vue-music/Music-play-front/src/store/index.js"],"names":["Vue","Vuex","logger","api","use","formatLyric","lyric","obj","replace","item","num","lyricArr","_","minutes","seconds","content","push","Store","state","cur","list","mutations","queryDataM","payload","id","data","parseInt","actions","queryDataA","commit","result","find","info","code","plugins"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;;AAEA,SAASI,WAAT,CAAqBC,KAArB,EAA4B;AAC3BA,EAAAA,KAAK,IAAI,OAAT;AACA,MAAMC,GAAG,GAAG;AACX,QAAI,GADO;AAEX,QAAI,GAFO;AAGX,QAAI,GAHO;AAIX,QAAI;AAJO,GAAZ;AAMAD,EAAAA,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,WAAd,EAA2B,UAACC,IAAD,EAAOC,GAAP,EAAe;AACjDD,IAAAA,IAAI,GAAGF,GAAG,CAACG,GAAD,CAAH,IAAYD,IAAnB;AACA,WAAOA,IAAP;AACA,GAHO,CAAR;AAIA,MAAIE,QAAQ,GAAG,EAAf;AACAL,EAAAA,KAAK,CAACE,OAAN,CAAc,gDAAd,EAAgE,UAACI,CAAD,EAAIC,OAAJ,EAAaC,OAAb,EAAsBC,OAAtB,EAAkC;AACjGJ,IAAAA,QAAQ,CAACK,IAAT,CAAc;AACbH,MAAAA,OAAO,EAAPA,OADa;AAEbC,MAAAA,OAAO,EAAPA,OAFa;AAGbC,MAAAA,OAAO,EAAPA;AAHa,KAAd;AAKA,GAND;AAOA,SAAOJ,QAAP;AACA;;AAED,eAAe,IAAIV,IAAI,CAACgB,KAAT,CAAe;AAC7BC,EAAAA,KAAK,EAAE;AACNC,IAAAA,GAAG,EAAE,CADC;AAENC,IAAAA,IAAI,EAAE;AAFA,GADsB;AAK7BC,EAAAA,SAAS,EAAE;AACVC,IAAAA,UADU,sBACCJ,KADD,EACQK,OADR,EACiB;AAAA,UAEzBC,EAFyB,GAItBD,OAJsB,CAEzBC,EAFyB;AAAA,UAGzBC,IAHyB,GAItBF,OAJsB,CAGzBE,IAHyB;AAK1BP,MAAAA,KAAK,CAACC,GAAN,GAAYO,QAAQ,CAACF,EAAD,CAApB;;AACA,UAAIC,IAAJ,EAAU;AACTP,QAAAA,KAAK,CAACE,IAAN,CAAWJ,IAAX,mBACIS,IADJ;AAECnB,UAAAA,KAAK,EAAED,WAAW,CAACoB,IAAI,CAACnB,KAAN;AAFnB;AAIA;AACD;AAbS,GALkB;AAoB7BqB,EAAAA,OAAO,EAAE;AACFC,IAAAA,UADE,4BAILJ,EAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAEPN,cAAAA,KAFO,QAEPA,KAFO,EAGPW,MAHO,QAGPA,MAHO;AAKP;AACIC,cAAAA,MANG,GAMMZ,KAAK,CAACE,IAAN,CAAWW,IAAX,CAAgB,UAAAtB,IAAI,EAAI;AACpC,uBAAOiB,QAAQ,CAACjB,IAAI,CAACe,EAAN,CAAR,KAAsBE,QAAQ,CAACF,EAAD,CAArC;AACA,eAFY,CANN;;AAAA,mBASHM,MATG;AAAA;AAAA;AAAA;;AAUN;AACAD,cAAAA,MAAM,CAAC,YAAD,EAAe;AACpBL,gBAAAA,EAAE,EAAFA;AADoB,eAAf,CAAN;AAXM;;AAAA;AAAA;AAAA,8CAiBQrB,GAAG,CAAC6B,IAAJ,CAASR,EAAT,CAjBR;;AAAA;AAiBPM,cAAAA,MAjBO;;AAkBP,kBAAIJ,QAAQ,CAACI,MAAM,CAACG,IAAR,CAAR,KAA0B,CAA9B,EAAiC;AAChCJ,gBAAAA,MAAM,CAAC,YAAD,EAAe;AACpBL,kBAAAA,EAAE,EAAFA,EADoB;AAEpBC,kBAAAA,IAAI,EAAEK,MAAM,CAACL;AAFO,iBAAf,CAAN;AAIA;;AAvBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GApBoB;AA8C7BS,EAAAA,OAAO,EAAE,CAAChC,MAAM,EAAP;AA9CoB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport logger from 'vuex/dist/logger';\r\nimport api from '../api/index';\r\nVue.use(Vuex);\r\n\r\nfunction formatLyric(lyric) {\r\n\tlyric += '&#10;';\r\n\tconst obj = {\r\n\t\t32: ' ',\r\n\t\t40: '(',\r\n\t\t41: ')',\r\n\t\t45: '-'\r\n\t};\r\n\tlyric = lyric.replace(/&#(\\d+);/g, (item, num) => {\r\n\t\titem = obj[num] || item;\r\n\t\treturn item;\r\n\t});\r\n\tlet lyricArr = [];\r\n\tlyric.replace(/\\[(\\d+)&#58;(\\d+)&#46;(?:\\d+)\\]([^&#;]+)&#10;/g, (_, minutes, seconds, content) => {\r\n\t\tlyricArr.push({\r\n\t\t\tminutes,\r\n\t\t\tseconds,\r\n\t\t\tcontent\r\n\t\t});\r\n\t});\r\n\treturn lyricArr;\r\n}\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tcur: 0,\r\n\t\tlist: []\r\n\t},\r\n\tmutations: {\r\n\t\tqueryDataM(state, payload) {\r\n\t\t\tlet {\r\n\t\t\t\tid,\r\n\t\t\t\tdata\r\n\t\t\t} = payload;\r\n\t\t\tstate.cur = parseInt(id);\r\n\t\t\tif (data) {\r\n\t\t\t\tstate.list.push({\r\n\t\t\t\t\t...data,\r\n\t\t\t\t\tlyric: formatLyric(data.lyric)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tasync queryDataA({\r\n\t\t\tstate,\r\n\t\t\tcommit\r\n\t\t}, id) {\r\n\t\t\t// 校验是否存在\r\n\t\t\tlet result = state.list.find(item => {\r\n\t\t\t\treturn parseInt(item.id) === parseInt(id);\r\n\t\t\t});\r\n\t\t\tif (result) {\r\n\t\t\t\t// 存在只改ID\r\n\t\t\t\tcommit('queryDataM', {\r\n\t\t\t\t\tid\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 不存在需要从服务器端重新获取数据\r\n\t\t\tresult = await api.info(id);\r\n\t\t\tif (parseInt(result.code) === 0) {\r\n\t\t\t\tcommit('queryDataM', {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tdata: result.data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tplugins: [logger()]\r\n});"]}]}